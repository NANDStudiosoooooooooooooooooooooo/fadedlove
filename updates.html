<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FADEDCLOTH - UPDATES</title>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:500|IBM+Plex+Sans:300&display=swap" rel="stylesheet">
    <meta name="description" content="The offical FADEDCLOTH site. Subscribe for updates.">
    <script src="https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js"></script>
    <link rel="stylesheet" href="https://fadedcloth.de/styles/main.css?v=3.85">

    <style>
        body {
            background-color: black;
            margin: 0;
            padding: 0;
            margin-bottom: 0;
            padding-bottom: 0;
            align-items: left !important;
            justify-content: flex-start;
            overflow-y: scroll;
            overflow-x: auto
        }

        .drop_section{
            width: 100%;
        }

        a {
            text-decoration: none;
            color: #84898E;
        }

        .glas-wrapper{
            margin-top: 100vh ;
            display: flex;
            flex-direction: column;
            width: fit-content;
        }

        .drop_container {
            padding-left: 1.38888vw;
            /* backdrop-filter: blur(15px); */
            -webkit-backdrop-filter: blur(15px);
            font-family: monospace;
            color: #84898E;
            display: flex;
            overflow-x: visible;
            overflow-y: visible;
            flex-direction: column;
            align-items: flex-start;
            width: auto;
            text-transform: uppercase;
            position: relative;
            max-width: auto;
            scrollbar-color: #84898E transparent;
            white-space: nowrap;
            
        }

        #blurOverlay { position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0, 0, 0, 0); 
            backdrop-filter: blur(0px); 
            -webkit-backdrop-filter: blur(0px);
            transition: backdrop-filter 0.1s, -webkit-backdrop-filter 0.1s; }

        .drop_container::-webkit-scrollbar {
            height: 6px; /* Set the scrollbar height for horizontal scrolling */
        }
        .drop_container::-webkit-scrollbar-track {
            background: transparent; /* Hide the scrollbar track */
        }
        .drop_container::-webkit-scrollbar-thumb {
            background-color: grey; /* Make the scrollbar handle grey */
            border-radius: 10px; /* Round the scrollbar handle */
            border: 2px solid transparent; /* Create space around the scrollbar handle */
        }

        .drop_container::-webkit-scrollbar-thumb:hover {
            background-color: darkgrey; /* Darken the scrollbar handle on hover */
        }

        .drop_item {
            display: flex;
            align-items: center;
            width: 100%;
            font-size: 4vw;
        }

        .drop_upcoming{
            background: repeating-linear-gradient(45deg, transparent 0%, transparent 12.5%, /* Pixelgröße relativ */ #84898e 12.5%, #84898e 25%), repeating-linear-gradient(-45deg, transparent 0%, transparent 12.5%, #84898e 12.5%, #84898e 25%);
            background-size: calc(1em / 4) calc(1em / 4);
            background-clip: text;
            -webkit-background-clip: text;
            color: transparent;
        }

        .drop_upcoming:hover {
            color: #84898E !important;
        }

        .collection_container{
            display: flex;
            flex-direction: row;
        }

        .collections_container{
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .drop_number_container {
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* Align to the left */
            justify-content: flex-end;
            height: calc(4.9vw* 0.8);
            font-size: 2.0vw;
            line-height: 0.95;
            width: 4ch;
        }

        .drop_link {
            font-family: monospace;
            /*color: #84898E;*/
            flex-grow: 1;
            text-align: left;
            white-space: nowrap;
            font-size: 4.9vw;
            display: block;
            width: auto;
            box-sizing: border-box;
            height: auto;
            line-height: 0.8;
        }

        .drop_link:hover {
            color: white;
            
        }

        .drop_time,
        .drop_countdown {
            width: 25%;
            text-align: left; /* Align to the left */
            white-space: nowrap;
        }

        .active-drop {
            color: #fcddff !important; /* Farbe für den aktiven Drop */
        }

        .active-drop:hover {
            color: white; /* Farbe beim Hover über den aktiven Drop */
        }

        @media (min-width: 501px) {
            .newsletter_form input[type="email"] {
                font-size: 4.9vw !important;
                line-height: 0.8 !important;
                height: calc(4.9vw* 0.8) !important;
            }
            .newsletter_form{
                font-size: 4.9vw;
                line-height: 0.8;
                flex-direction: row;
            }
        }
        
        @media (max-width: 500px) {
            .drop_item {
                font-size: 7.9vw; /* Fixed larger size for screens above 500px */
            }
            .drop_link {
                font-size: 7.9vw;
            }
           .newsletter_form{
                font-size: 7.9vw;
                line-height: 0.8;
                flex-direction: column;
            } 
            .drop_number_container {
                font-size: 3.25vw;
                height: calc(7.9vw* 0.8) !important;
            }
            .newsletter_form input[type="email"] {
                height: calc(7.9vw* 0.8) !important;
                font-size: 7.9vw;
            }
        }

        .newsletter_form {
            display: flex;
            justify-content: flex-start;
        }

        .newsletter_form:hover{
            color: #fcddff !important;
        }

        .ended:hover{
            color: #FFFFFF;
        }

        .first-upcoming-drop{
            color: #ba63dd !important;
        }

        .submit_button { position: relative; right: 5px; cursor: pointer; height: 100%; line-height: 0.7; margin-left: 5px;}

        .input_wrapper { display: flex; flex-direction: row; }

        /* Stil für das Eingabefeld */
        .newsletter_form input[type="email"] {
            background: none;
            text-overflow: ellipsis;
            border: none;
            color: #fcddff !important;
            text-transform: uppercase;
            width: 100%; /* Breite des Eingabefelds */
            max-width: 1200px;
            outline: none;
            overflow-x: auto; /* Allows horizontal scrolling */
            white-space: nowrap; /* Prevents wrapping of the text */
            text-align: left;
            overflow-x: visible;
            height: 100%;
            /*caret-color: transparent;*/
            /*padding-right: 20px;*/
            padding: 0 !important;
        }

        /* Verstecken des Eingabefelds nach erfolgreicher Eingabe */
        .newsletter_form input[type="email"].hidden {
            display: none;
        }

        .scroll-text {
            position: fixed;
            top: 120px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            text-align: center;
            cursor: pointer;
        }


        .scroll-effect{
            width: 100%;
            height: 140px;
            position: fixed;
            top: 0px;
            background: linear-gradient(to top, transparent, black);
            user-select: none;
            pointer-events: none;
        }

        .dropname {
            width: 7ch;
            min-width: 7ch;
        }
        
        @media (max-width: 500px) {
            .utc {
                display: none;
            }
            .dropname {
                display: none;
            }
            body {
                overflow-x: hidden;
            }
            .product-image {
                height: calc(7.9vw* 0.666666);
                MARGIN-LEFT: 20PX;
            }
            .newsletter_number_container{
                transform: translateY(-50%);
            }
            .drop_container{
                padding-left: 1.6vw;
            }
        }

        @media (min-width: 501px) {
            .utc {
                display: inline;
            }
            .dropname {
                display: inline;
            }
            body {
                overflow-x: scroll;
            }
            .product-image {
                height: calc(4.9vw* 0.666666);
                MARGIN-LEFT: 20PX;
            }
            .newsletter_number_container{
                transform: translateY(0);
            }
        }

        #news-tab {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        background-color: #000000;
        border-top: 1px solid white;
        transition: transform 0.4s ease-in-out;
        z-index: 2222;
        }

        #news-header {
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        clip-path: polygon(0% 0%, 98% 0%, 100% 100%, 0% 100%);
        cursor: pointer;
        }

        #news-headline {
        text-transform: uppercase;
        }

        #toggle-arrow {
        font-size: 16px;
        transform: rotate(0deg);
        transition: transform 0.3s ease;
        }

        #news-tab.full-height #toggle-arrow {
        transform: rotate(180deg);
        }

        #news-media {
        width: 100%;
        height: calc(100% - 130px);
        max-height: 100%;
        cursor: pointer;
        align-items: flex-start;
        justify-content: center;
        display: flex;
        }
        /* Zustände */
        #news-tab.collapsed {
            transform: translateY(calc(100% - 50px));
        }

        #news-tab.half-height {
            transform: translateY(calc(50vh - 50px));
        }

        #news-tab.full-height {
            transform: translateY(110px);
        }

        .media {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            cursor: pointer;
        }

    .news-hidden {
        transform: translateY(100%) !important;
    }

    .ended{
        text-decoration: line-through;
        /*pointer-events: none;*/
    }

    .active{
        color: #ffd3fe;
    }
    
    .blur-white{
        filter: blur(2px);
        color: white !important;
    }
    
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const blurOverlay = document.getElementById('blurOverlay');
        const maxBlur = 15; //setting

        window.addEventListener('scroll', () => {
            const scrollPosition = window.scrollY;
            const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
            const blurValue = (scrollPosition / documentHeight) * maxBlur;

            blurOverlay.style.backdropFilter = `blur(${blurValue}px)`;
            blurOverlay.style.webkitBackdropFilter = `blur(${blurValue}px)`;
        });
    });
    </script>
  
</head>
<body>

<!--
               @@@@@@@@@@@@@@@@@@@@@@
            @@@@@@@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@@@@@@@@@@
        @@@@@@@@@@@@@@@@
        @@@@@@@@@@@
        @@@
        @@
              @@@@@@@@@@@@@@@@@@@
           @@@@@@@@@@@@@@@@@@@@@
          @@@@@@@@@
        @@@@@@@@
        @@@@@
        @@@
        @@@
        @@@             fadedcloth.de
-->
<div class="main-header">

    <div class="top-left" style="top: 10px; left: 10px;"><button id="back-button" class="glass-button"><span id="back-arrow">←</span> <span id="back-button-text">BACK TO FADEDCLOTH</span></button></div>


    <div id="cart-button-container" class="nav-link top-right">
        <a style="padding-top: 60px;" href="https://checkout.fadedcloth.de/cart">
            <div class="cart-count-bubble">!</div>
            <div style="position: relative; z-index: 2; pointer-events: none; user-select: none;"><img src="https://cdn.shopify.com/s/files/1/0892/0445/7817/files/cart.png?v=1738269126" style="height: 60px; width: 60px;"></div>
            <div class="blurred-eclipse-background" bis_skin_checked="1"></div>
        </a>
    </div>
    
    <a href="https://fadedcloth.de/" style="cursor: pointer;">
        <div class="header-logo-container top" id="load-container">
            <svg id="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49.99 49.99"><path d="M9.04,45.8S2.14,18.36,29.78,20.63c.32.03,1.48.5,1.68.73,10.46,11.98-11.35-1.98-9.37,11.94,2.79,19.65-12.78,15.1-13.05,12.5Z" style="fill:#fff; fill-rule:evenodd;"/><path d="M12.75,2.49s36.99-3.52,27.37,5.41c-9.61,8.93-18.95-5.47-24.04,6.74C10.98,26.86,3.69,3.05,12.75,2.49Z" style="fill:#fff; fill-rule:evenodd;"/><rect width="49.99" height="49.99" style="fill:none;"/></svg>
        </div>
    </a>

    <script>
        let backButtonLink = "https://fadedcloth.de/";
        let backButtonText = "BACK TO FADEDCLOTH";
        let backButtonShortText = "BACK";

        function setBackButtonLink(newLink) {
            backButtonLink = newLink;
        }
        function setBackButtonText(newText) {
            document.getElementById("back-button-text").textContent = newText;
        }
        function updateBackButtonText() {
            if (window.innerWidth <= 880) {
                setBackButtonText(backButtonShortText);
            } else {
                setBackButtonText(backButtonText);
            }
        }
        document.getElementById("back-button").addEventListener("click", function() {
            window.location.href = backButtonLink;
        });
        window.addEventListener("resize", updateBackButtonText);
        document.addEventListener("DOMContentLoaded", updateBackButtonText);
    </script>
</div>
    
    <div class="logo-container" id="load-container">
        <div id="loader" class="loader-container">
            <l-zoomies size="80" stroke="5" bg-opacity="0.1" speed="1.4" color="white"></l-zoomies>
        </div>
        <div class="video-wrapper fade-in" id="videoWrapper">
            <canvas id="sequenceCanvas"></canvas>
            <!-- <video class="logo" id="load-obj" autoplay loop muted playsinline preload="auto">
                
                <source src="https://cdn.shopify.com/videos/c/o/v/98309ce66f8641dea5e579d4f1a8a4d9.mp4" type="video/mp4">
                <source src="https://cdn.shopify.com/videos/c/o/v/696856536feb451699e4337ac233c8a9.webm" type="video/webm">
                BAD BROWSER
            </video> -->
        </div>
    </div>

    <style>
        canvas {
      width: 100%;
      height: 60VW;
    }
    </style>

    <script>
        const canvas = document.getElementById("sequenceCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const frameCount = 76; //setting // img count -important // 126 //76 
        const images = [];
        let loadedImages = 0;
        function formatNumber(num) {
          return num.toString().padStart(3, '0');
        }
        for (let i = 1; i <= frameCount; i++) {
          const img = new Image();
          const formattedNumber = formatNumber(i);
          const imageName = 'tv-fadedlove-'; //setting
          img.src = `https://cdn.shopify.com/s/files/1/0892/0445/7817/files/${imageName}${formattedNumber}.png`;
          img.onload = () => {
            loadedImages++;
            console.log(`img ${formattedNumber} done`);
    
            if (loadedImages === frameCount) {
              console.log("animation done!");
              render();
            }
          };
    
          img.onerror = () => {
            console.error(`img: ${formattedNumber} error`);
          };
          images.push(img);
        }
        function drawFrame(index) {
          const img = images[index];
          if (img && img.complete) {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
          } else {
            console.error(`img ${index + 1} not ready`);
          }
        }
        window.addEventListener("scroll", () => {
          if (loadedImages === frameCount) {
            const scrollPosition = window.scrollY;
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            const scrollFraction = scrollPosition / maxScroll;
            const currentFrame = Math.min(
              frameCount - 1,
              Math.floor(scrollFraction * frameCount)
            );
            drawFrame(currentFrame);
          }
        });
        function render() {
          drawFrame(0);
        }
      </script>

    <div id="blurOverlay"></div>
    
    <div class="glas-wrapper">
        <div class="drop_container fade-in" id="drops-container">
            <!-- Drop items will be appended here -->
        </div>
    </div>

    <div class="scroll-effect"></div>

    <script>
        async function loadBlogPosts() {
            const queryParams = new URLSearchParams(window.location.search);
            const blogHandle = queryParams.get('blog') || 'main-blog'; // Standard: "main-blog"
    
            const query = `
            {
                blogByHandle(handle: "${blogHandle}") {
                    articles(first: 50) {
                        edges {
                            node {
                                id
                                handle
                                title
                                image {
                                    url
                                }
                            }
                        }
                    }
                }
            }`;
    
            try {
                const response = await fetch('https://checkout.fadedcloth.de/api/2023-04/graphql.json', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Shopify-Storefront-Access-Token': 'ed72f09d8742f37356305b6e49310909'
                    },
                    body: JSON.stringify({ query })
                });
    
                const json = await response.json();
    
                // Falls der Blog nicht existiert oder keine Posts hat
                if (!json.data.blogByHandle || !json.data.blogByHandle.articles.edges.length) {
                    document.getElementById('drops-container').innerHTML = '<div class="headline">NO POSTS FOUND.</div>';
                    return;
                }
    
                const articles = json.data.blogByHandle.articles.edges.map(edge => edge.node);
                const container = document.getElementById('drops-container');
                container.innerHTML = '';
    
                articles.forEach((article, index) => {
                    const formattedIndex = String(index + 1).padStart(2, '0'); // 2-stellige Zahl
    
                    const blogElement = document.createElement('div');
                    blogElement.classList.add('drop_item');
    
                    blogElement.innerHTML = `
                        <div class="drop_number_container">
                            <div>#</div>
                            <div>${formattedIndex}</div>
                        </div>
                        <a class="drop_link active" href="https://fadedcloth.de/legal?blog=${article.handle}&bloghandle=${blogHandle}">
                            ${article.title}
                            <img src="${article.image ? article.image.url : 'https://fadedcloth.de/default-blog.png'}" alt="" class="product-image floating">
                        </a>
                    `;
    
                    container.appendChild(blogElement);
                });
    
            } catch (error) {
                console.error("Fehler beim Laden der Blogposts:", error);
                document.getElementById('drops-container').innerHTML = '<div class="headline">ERROR LOADING BLOG.</div>';
            }
        }
    
        document.addEventListener("DOMContentLoaded", loadBlogPosts);
    </script>
    
    
    <script src="scripts/animate.js" defer></script> 
    <script type="module" src="https://cdn.jsdelivr.net/npm/ldrs/dist/auto/zoomies.js" defer></script>
    <script src="scripts/subscribe.js?v=1.2" defer></script>
    <script src="scripts/vanilla-tilt.js"></script>
</body>
</html>