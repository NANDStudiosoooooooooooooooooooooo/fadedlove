<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>FADEDCLOTH - LEGAL</title>
    <link rel="stylesheet" href="newstyles36.css">
</head>
<body>
    <div id="loader" class="loader-container">
        <l-zoomies size="80" stroke="5" bg-opacity="0.1" speed="1.4" color="white"></l-zoomies>
    </div>

    <div class="logo-container" id="logo-container">
        <video class="logo" id="logo-video" autoplay loop muted playsinline>
            <source src="logo.mp4" type="video/mp4">
            Dein Browser unterst端tzt dieses Video nicht.
        </video>
    </div>

    <!-- Navigation link -->
    <a href="https://fadedcloth.de/" class="nav-link top-left underlineonhover">MAINPAGE</a>

    <div id="content-container" class="glass-panel">
        <div class="headline" id="content-title" >LOADING...</div>
        <div id="content-body">
            <a id="text-content">WAIT FOR THE CONTENT TO LOAD</a>
        </div>
    </div>

    <!-- Buttons unten links (untereinander) -->
    <div class="buttons-container">
        <button id="button1" class="glass-button" data-target="panel1">MENU</button>
        <button id="button2" class="glass-button" data-target="panel2">LEGAL</button>
        <button id="button3" class="glass-button" data-target="panel3">NEWSLETTER</button>
    </div>

    <!-- Panel f端r Button 1 -->
    <div id="panel1" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel1')">X</button>
        <a href="https://fadedcloth.de/" class="panel-link">MAINPAGE</a>
        <a href="https://fadedcloth.de/shop" class="panel-link">SHOP</a>
    </div>

    <!-- Panel f端r Button 2 -->
    <div id="panel2" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel2')">X</button>
        <a href="mailto:help@fadedcloth.de" class="panel-link">CONTACT</a>
        <a href="https://fadedcloth.de/legal?id=privacy-policy" class="panel-link">PRIVACY POLICY</a>
        <a href="https://fadedcloth.de/legal?id=terms-of-service" class="panel-link">TERMS OF SERVICE</a>
        <div class="copyright">&copy; FADEDCLOTH 2024</div>
    </div>

    <!-- Panel f端r Button 3 (Subscribe Panel) -->
    <div id="panel3" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel3')">X</button>
        <div class="headline">NEWSLETTER</div>
        <form id="emailForm">
            <input 
                type="email" 
                id="email" 
                placeholder="ENTER YOUR EMAIL" 
                class="email-input"
                required 
            />
            <div class="form-buttons">
                <button id="subscribeButton" class="email-button small-button">
                    SUBSCRIBE
                </button>
                <button id="UnsubscribeSendButton" class="email-button small-button">
                    UNSUBSCRIBE
                </button>
            </div>
        </form>
    </div>

    <script src="newscripts5.js"></script>
    <script src="scripts/loader.js"></script>
    <script src="scripts/legal.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ldrs/dist/auto/zoomies.js"></script>
    <script src="https://subscribe.fadedcloth.de/scripts/fadedsub.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const queryParams = new URLSearchParams(window.location.search);
            const contentId = queryParams.get('id') || 'default'; // Fallback falls kein id vorhanden ist
            
            // Lade die Inhalte von der externen JSON-Datei
            fetch('/json/legal.json')
                .then(response => response.json())
                .then(data => {
                    const content = data[contentId];
                    if (content) {
                        document.getElementById('content-title').textContent = content.title;
                        document.getElementById('text-content').innerHTML = content.body; // HTML-Inhalt
                    } else {
                        document.getElementById('content-title').textContent = '404 - Not Found';
                        document.getElementById('text-content').innerHTML = 'Der angeforderte Inhalt konnte nicht gefunden werden.';
                    }
                })
                .catch(error => {
                    document.getElementById('content-title').textContent = 'Error';
                    document.getElementById('text-content').innerHTML = 'Ein Fehler ist aufgetreten beim Laden des Inhalts.';
                    console.error('Error loading content:', error);
                });
        });
    </script>
    <script src="https://subscribe.fadedcloth.de/scripts/fadedsendunsub.js"></script>
</body>
</html>