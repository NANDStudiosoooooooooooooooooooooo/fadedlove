<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/2.1.3/marked.min.js"></script> 
    <title>FADEDCLOTH - LEGAL</title>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:500|IBM+Plex+Sans:300&display=swap" rel="stylesheet">
    <meta name="description" content="The offical FADEDCLOTH shop. Subscribe for updates.">
    <link rel="stylesheet" href="styles/main.css?v=3.85">
    <style>
        body {
            justify-content: start;
            align-items: center;
}
    </style>
</head>
<body>
    
    <!-- <div class="text-box top-left"><a href="https://fadedcloth.de">fadedcloth.de</a><a id="legal-link"></a></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
        const params = new URLSearchParams(window.location.search);
        const legal = params.get('id');
        if (legal) {
            const link = document.getElementById('legal-link');
            if (link) {
                link.href = `https://fadedcloth.de/legal?id=${legal}`;
                link.textContent = `/${legal}`;
            } else {
            }
        } else {
        }
    });
    </script> -->
    
    <div class="main-header">

        <div class="top-left" style="top: 10px; left: 10px;"><button id="back-button" class="glass-button"><span id="back-arrow">←</span> <span id="back-button-text">BACK TO FADEDCLOTH</span></button></div>


        <div id="cart-button-container" class="nav-link top-right">
            <a style="padding-top: 60px;" href="https://checkout.fadedcloth.de/cart">
                <div class="cart-count-bubble">!</div>
                <div style="position: relative; z-index: 2; pointer-events: none; user-select: none;"><img src="https://cdn.shopify.com/s/files/1/0892/0445/7817/files/cart.png?v=1738269126" style="height: 60px; width: 60px;"></div>
                <div class="blurred-eclipse-background" bis_skin_checked="1"></div>
            </a>
        </div>
        
        <a href="https://fadedcloth.de/" style="cursor: pointer;">
            <div class="header-logo-container top" id="load-container">
                <svg id="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49.99 49.99"><path d="M9.04,45.8S2.14,18.36,29.78,20.63c.32.03,1.48.5,1.68.73,10.46,11.98-11.35-1.98-9.37,11.94,2.79,19.65-12.78,15.1-13.05,12.5Z" style="fill:#fff; fill-rule:evenodd;"/><path d="M12.75,2.49s36.99-3.52,27.37,5.41c-9.61,8.93-18.95-5.47-24.04,6.74C10.98,26.86,3.69,3.05,12.75,2.49Z" style="fill:#fff; fill-rule:evenodd;"/><rect width="49.99" height="49.99" style="fill:none;"/></svg>
            </div>
        </a>

        <script>
            let backButtonLink = "https://fadedcloth.de/";
            let backButtonText = "BACK TO FADEDCLOTH";
            let backButtonShortText = "BACK";

            function setBackButtonLink(newLink) {
                backButtonLink = newLink;
            }
            function setBackButtonText(newText) {
                document.getElementById("back-button-text").textContent = newText;
            }
            function updateBackButtonText() {
                if (window.innerWidth <= 880) {
                    setBackButtonText(backButtonShortText);
                } else {
                    setBackButtonText(backButtonText);
                }
            }
            document.getElementById("back-button").addEventListener("click", function() {
                window.location.href = backButtonLink;
            });
            window.addEventListener("resize", updateBackButtonText);
            document.addEventListener("DOMContentLoaded", updateBackButtonText);
        </script>
    </div>

    <div class="fade-in">
        <div class="headline" id="content-title" style="margin-top: 140px;"></div>
        <div class="main-body">
            <div class="text" id="text-content">WAIT FOR THE CONTENT TO LOAD</div>
        </div>
    </div>

    <div class="buttons-container">
        <button id="button1" class="glass-button" data-target="panel1">COLLECTION</button>
        <button id="button2" class="glass-button" data-target="panel2">INFO</button>
        <button id="button3" class="glass-button" data-target="panel3">NEWSLETTER</button>
        <!--<button id="button4" class="glass-button" data-target="panel4">SMS</button>-->
    </div>
    
    <!-- Panel für Button 1 -->
    <div id="panel1" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel1')">X</button>
        <a href="https://fadedcloth.de/gallery" class="panel-link">GALLERY</a>
        <a href="https://fadedcloth.de/" class="panel-link">MAINPAGE</a>
    </div>
    
    <!-- Panel für Button 2 -->
    <div id="panel2" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel2')">X</button>
        <div class="social-container">
            <select id="social-select">
                <option value="instagram">INSTAGRAM</option>
                <option value="tiktok">TIKTOK</option>
                <option value="twitter">TWITTER</option>
            </select>
            <a class="underlineonhover" id="social-select-link" href="https://instagram.com/fadedcloth.de">fadedcloth.de</a>
        </div>
        <a href="mailto:help@fadedcloth.de" class="panel-link">CONTACT</a>
        <a href="/legal?id=privacy-policy" class="panel-link">PRIVACY POLICY</a>
        <a href="/legal?id=terms-of-service" class="panel-link">TERMS OF SERVICE</a>
        <div class="copyright">&copy; FADEDCLOTH 2024</div>
    </div>
    
    <!-- Panel für Button 3 (Subscribe Panel) -->
    <div id="panel3" class="glass-panel hidden">
        <button class="close-btn" onclick="togglePanel('panel3')">X</button>
        <div class="headline">SUBSCRIBE FOR UPDATES</div>
        <form id="emailForm">
            <input 
                type="email" 
                id="email" 
                placeholder="ENTER YOUR EMAIL" 
                class="email-input"
                required 
            />
            <div class="checkbox-container">
                <input type="checkbox" id="termsCheckbox" class="custom-checkbox">
                <label for="termsCheckbox" class="checkbox-label">
                  I ACCEPT THE <a class="href" href="/legal?id=terms-of-service">TERMS</a>
                </label>
            </div>
            <div class="form-buttons">
                <button id="subscribeButton" class="email-button small-button">
                    SUBMIT
                </button>
            </div>
        </form>
    </div>

    <script>
        async function loadBlogPost() {
            const params = new URLSearchParams(window.location.search);
            const blogHandle = params.get('blog');
            
            if (!blogHandle) {
                return;
            }

            const query = `
            {
                blogByHandle(handle: "main-blog") {
                    articles(first: 50) {
                        edges {
                            node {
                                id
                                handle
                                title
                                contentHtml
                            }
                        }
                    }
                }
            }`;

            try {
                const response = await fetch('https://checkout.fadedcloth.de/api/2023-04/graphql.json', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Shopify-Storefront-Access-Token': 'ed72f09d8742f37356305b6e49310909'
                    },
                    body: JSON.stringify({ query })
                });

                const json = await response.json();
                const articles = json.data.blogByHandle.articles.edges.map(edge => edge.node);

                const blogPost = articles.find(article => article.handle === blogHandle);

                if (blogPost) {
                    document.querySelector('.headline').textContent = blogPost.title;
                    document.querySelector('.text').innerHTML = blogPost.contentHtml;
                } else {
                    document.querySelector('.headline').textContent = "Blog not found";
                    document.querySelector('.text').innerHTML = "";
                }
            } catch (error) {
                console.error("Error loading blog:", error);
                document.querySelector('.headline').textContent = "Error loading blog";
            }
        }

        loadBlogPost();
    </script>

    <script src="scripts/load-buttons.js?v=1.47"></script>
    <script src="scripts/loader.js"></script>
    <script src="scripts/legal.js?v=1.3"></script>
    <script src="scripts/social.js?v=1.2" defer></script>
    <script src="scripts/animate.js"></script> 
    <script src="scripts/sendsms.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ldrs/dist/auto/zoomies.js"></script>
    <script src="scripts/subscribe.js"></script>
</body>
</html>